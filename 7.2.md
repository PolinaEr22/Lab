import json
def add_expense(expenses):
    category = input("Введите категорию расходов: ")
    amount = float(input("Введите сумму расходов: "))
    expenses.append({"category": category, "amount": amount})
    save_expenses(expenses)
    print("Расход успешно добавлен!")
def save_expenses(expenses):
    with open("expenses.json", "w") as file:
        json.dump(expenses, file)

def load_expenses():
    try:
        with open("expenses.json", "r") as file:
            expenses = json.load(file)
    except FileNotFoundError:
        expenses = []
    return expenses
def show_expenses(expenses):
    for expense in expenses:
        print(f"Категория: {expense['category']}, Сумма: {expense['amount']}")
def main():
    expenses = load_expenses()    
    while True:
        choice = input("Выберите действие: 1 - добавить расход, 2 - просмотреть расходы, 3 - выход: ")        
        if choice == "1":
            add_expense(expenses)
        elif choice == "2":
            show_expenses(expenses)
        elif choice == "3":
            break
        else:
            print("Некорректный ввод, попробуйте еще раз.")
if __name__ == "__main__":
    main()
